[discord]
bot_token = "YOUR_DISCORD_BOT_TOKEN"
user_id = 123456789012345678
# guild_id 可选。建议填写，避免同一用户在多个服务器导致重复事件。
guild_id = 987654321098765432
# true: 启动时尝试推送当前状态；false: 只在后续状态变化时推送。
emit_initial_status = false

[webhook]
# 可选: "openclaw_wake" | "generic_json"
mode = "openclaw_wake"
url = "http://127.0.0.1:18789/hooks/wake"
token = "YOUR_OPENCLAW_HOOK_TOKEN"
timeout_seconds = 10

[webhook.openclaw]
# 可选: "now" | "next-heartbeat"
wake_mode = "now"

[webhook.headers]
# 可选自定义请求头，会和 token 一起发送
x-statushub-source = "discord-presence-monitor"

[message]
# 可选：发送到 webhook.text 前插入头部提示词
prefix = ""
# 可选：发送到 webhook.text 后追加尾部提示词
suffix = ""

[steam]
# 可选功能：仅当检测到 Steam 游戏活动时，查询游戏信息并附加到 text
enabled = true
# 可选：Steam Web API Key。填写后会额外附加当前在线人数。
api_key = "YOUR_STEAM_WEB_API_KEY"
# Steam 商店 API 语言（例如 schinese / english）
language = "schinese"
# 简介最大字符数，超出会截断
description_max_chars = 240
# Steam API 请求超时（秒）
timeout_seconds = 8
# Steam 内存缓存 TTL（秒）
memory_cache_ttl_seconds = 1800
# Steam 内存缓存容量（最大条目数）
memory_cache_capacity = 512
# Steam 数据写入数据库缓存时的 TTL（秒）
db_cache_ttl_seconds = 86400

[cache]
# 可选：none | sqlite
backend = "none"
# 仅 backend=sqlite 时生效
sqlite_path = "./data/statushub-cache.sqlite3"

[state_cache]
# 持久化状态缓存（建议保持启用）
enabled = true
path = "./data/status-state.json"

[reminder]
# 可选：状态持续超过间隔后重复发送提醒
enabled = false
# 例如 30 分钟 -> 在 30m、60m、90m... 触发
interval_minutes = 30
# true: 仅当为 Steam 游戏活动时触发提醒；false: 对所有状态触发
steam_only = false
# 内部检查周期（秒），越小越接近整点触发，但开销略高
check_interval_seconds = 30
